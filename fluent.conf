<source>
  @type kafka_group

  brokers kafkabroker:9092
  consumer_group web-app-influxdb
  topics web-app-log
  format json
  retry_emit_limit 5
  use_record_time true
  time_format "%Y-%m-%d %H:%M:%S"

  # ruby-kafka consumer options
  max_bytes               1048576
  max_wait_time           10
  start_from_beginning    false
</source>

<match *>
  @type influxdb
  host  "influxdb"
  port  8086
  dbname matrixlog
  user matrix
  password 123
  use_ssl false
  tag_keys ["level", "request_id", "message"]
</match>